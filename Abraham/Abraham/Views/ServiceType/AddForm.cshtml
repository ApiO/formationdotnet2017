@using System.Web.UI.HtmlControls
@model Abraham.Domain.Business.DTOs.ServiceType

@{
    ViewBag.Title = "Add Form";
}

@using (Ajax.BeginForm("CreateServiceType", "ServiceType", new AjaxOptions()
{
    HttpMethod = "Post", 
    OnFailure = "OnFailure",
    OnSuccess = "OnSuccess",
    AllowCache = false
}))
{

    @Html.LabelFor(model => model.Description)
    @Html.EditorFor(model => model.Description)
    <input type="submit" value="Create" />
}

@section scripts{
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
        function OnFailure(error) {
            debugger;
            console.error(error);
        };

        function OnSuccess(data) {
            debugger;
            console.log(data);
        };

        function Bwaaaaaa() {
            $.ajax({
                url: "http://localhost:50562/ServiceType/CreateServiceType",
                type: "POST",
                data: { Id: 24, Description: "laaaaaaa" },
                error: function(e) { console.log(e); },
                success: function(data) { console.log(data); }
            });
        };
    </script>
}